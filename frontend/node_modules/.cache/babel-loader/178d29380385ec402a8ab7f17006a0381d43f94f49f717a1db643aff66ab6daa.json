{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[stats,setStats]=useState({totalUsers:0,totalStores:0,totalRatings:0,averageRating:0});const[loading,setLoading]=useState(true);useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const[usersRes,storesRes,ratingsRes]=await Promise.all([axios.get('/api/users'),axios.get('/api/stores'),axios.get('/api/ratings')]);const totalUsers=usersRes.data.total;const totalStores=storesRes.data.total;const totalRatings=ratingsRes.data.total;// Calculate average rating\nconst ratings=ratingsRes.data.ratings;const averageRating=ratings.length>0?(ratings.reduce((sum,r)=>sum+r.rating,0)/ratings.length).toFixed(1):0;setStats({totalUsers,totalStores,totalRatings,averageRating});}catch(error){console.error('Error fetching stats:',error);// toast.error('Failed to load dashboard statistics');\n}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px'},children:\"Loading...\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:stats.totalUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:stats.totalStores}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Stores\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-number\",children:stats.totalRatings}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Ratings\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#333',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'},children:\"User Management\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6c757d',marginBottom:'20px'},children:\"Manage users, view profiles, and control access permissions.\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/users\",className:\"btn btn-primary\",children:\"Manage Users\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#333',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'},children:\"Store Management\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6c757d',marginBottom:'20px'},children:\"Add, edit, and manage store information and ownership.\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/stores\",className:\"btn btn-primary\",children:\"Manage Stores\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#333',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'},children:\"Rating Management\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6c757d',marginBottom:'20px'},children:\"View and manage all store ratings and user feedback.\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin/ratings\",className:\"btn btn-primary\",children:\"Manage Ratings\"})]})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","toast","jsx","_jsx","jsxs","_jsxs","AdminDashboard","stats","setStats","totalUsers","totalStores","totalRatings","averageRating","loading","setLoading","fetchStats","usersRes","storesRes","ratingsRes","Promise","all","get","data","total","ratings","length","reduce","sum","r","rating","toFixed","error","console","className","children","style","textAlign","fontSize","marginBottom","display","gridTemplateColumns","gap","color","alignItems","to"],"sources":["C:/Users/ayush bhure/OneDrive/Desktop/backup/App/frontend/src/components/admin/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\nconst AdminDashboard = () => {\n  const [stats, setStats] = useState({\n    totalUsers: 0,\n    totalStores: 0,\n    totalRatings: 0,\n    averageRating: 0\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchStats();\n  }, []);\n\n  const fetchStats = async () => {\n    try {\n      const [usersRes, storesRes, ratingsRes] = await Promise.all([\n        axios.get('/api/users'),\n        axios.get('/api/stores'),\n        axios.get('/api/ratings')\n      ]);\n\n      const totalUsers = usersRes.data.total;\n      const totalStores = storesRes.data.total;\n      const totalRatings = ratingsRes.data.total;\n\n      // Calculate average rating\n      const ratings = ratingsRes.data.ratings;\n      const averageRating = ratings.length > 0\n        ? (ratings.reduce((sum, r) => sum + r.rating, 0) / ratings.length).toFixed(1)\n        : 0;\n\n      setStats({\n        totalUsers,\n        totalStores,\n        totalRatings,\n        averageRating\n      });\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n      // toast.error('Failed to load dashboard statistics');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ fontSize: '48px', marginBottom: '16px' }}>Loading...</div>\n          <div>Loading dashboard...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"page-header\">\n        <h1>Admin Dashboard</h1>\n      </div>\n\n      <div className=\"dashboard-stats\">\n        <div className=\"stat-card\">\n          <div className=\"stat-number\">{stats.totalUsers}</div>\n          <div className=\"stat-label\">Total Users</div>\n        </div>\n\n        <div className=\"stat-card\">\n          <div className=\"stat-number\">{stats.totalStores}</div>\n          <div className=\"stat-label\">Total Stores</div>\n        </div>\n\n        <div className=\"stat-card\">\n          <div className=\"stat-number\">{stats.totalRatings}</div>\n          <div className=\"stat-label\">Total Ratings</div>\n        </div>\n      </div>\n\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '24px' }}>\n        <div className=\"card\">\n          <h3 style={{\n            color: '#333',\n            marginBottom: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          }}>\n            User Management\n          </h3>\n          <p style={{ color: '#6c757d', marginBottom: '20px' }}>\n            Manage users, view profiles, and control access permissions.\n          </p>\n          <Link to=\"/admin/users\" className=\"btn btn-primary\">\n            Manage Users\n          </Link>\n        </div>\n\n        <div className=\"card\">\n          <h3 style={{\n            color: '#333',\n            marginBottom: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          }}>\n            Store Management\n          </h3>\n          <p style={{ color: '#6c757d', marginBottom: '20px' }}>\n            Add, edit, and manage store information and ownership.\n          </p>\n          <Link to=\"/admin/stores\" className=\"btn btn-primary\">\n            Manage Stores\n          </Link>\n        </div>\n\n        <div className=\"card\">\n          <h3 style={{\n            color: '#333',\n            marginBottom: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          }}>\n            Rating Management\n          </h3>\n          <p style={{ color: '#6c757d', marginBottom: '20px' }}>\n            View and manage all store ratings and user feedback.\n          </p>\n          <Link to=\"/admin/ratings\" className=\"btn btn-primary\">\n            Manage Ratings\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,CACjCY,UAAU,CAAE,CAAC,CACbC,WAAW,CAAE,CAAC,CACdC,YAAY,CAAE,CAAC,CACfC,aAAa,CAAE,CACjB,CAAC,CAAC,CACF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdiB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAACC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAC1DpB,KAAK,CAACqB,GAAG,CAAC,YAAY,CAAC,CACvBrB,KAAK,CAACqB,GAAG,CAAC,aAAa,CAAC,CACxBrB,KAAK,CAACqB,GAAG,CAAC,cAAc,CAAC,CAC1B,CAAC,CAEF,KAAM,CAAAZ,UAAU,CAAGO,QAAQ,CAACM,IAAI,CAACC,KAAK,CACtC,KAAM,CAAAb,WAAW,CAAGO,SAAS,CAACK,IAAI,CAACC,KAAK,CACxC,KAAM,CAAAZ,YAAY,CAAGO,UAAU,CAACI,IAAI,CAACC,KAAK,CAE1C;AACA,KAAM,CAAAC,OAAO,CAAGN,UAAU,CAACI,IAAI,CAACE,OAAO,CACvC,KAAM,CAAAZ,aAAa,CAAGY,OAAO,CAACC,MAAM,CAAG,CAAC,CACpC,CAACD,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,CAAEC,CAAC,GAAKD,GAAG,CAAGC,CAAC,CAACC,MAAM,CAAE,CAAC,CAAC,CAAGL,OAAO,CAACC,MAAM,EAAEK,OAAO,CAAC,CAAC,CAAC,CAC3E,CAAC,CAELtB,QAAQ,CAAC,CACPC,UAAU,CACVC,WAAW,CACXC,YAAY,CACZC,aACF,CAAC,CAAC,CACJ,CAAE,MAAOmB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C;AACF,CAAC,OAAS,CACRjB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBACEV,IAAA,QAAK8B,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtB7B,KAAA,QAAK8B,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAF,QAAA,eAClC/B,IAAA,QAAKgC,KAAK,CAAE,CAAEE,QAAQ,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,YAAU,CAAK,CAAC,cACxE/B,IAAA,QAAA+B,QAAA,CAAK,sBAAoB,CAAK,CAAC,EAC5B,CAAC,CACH,CAAC,CAEV,CAEA,mBACE7B,KAAA,QAAA6B,QAAA,eACE/B,IAAA,QAAK8B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B/B,IAAA,OAAA+B,QAAA,CAAI,iBAAe,CAAI,CAAC,CACrB,CAAC,cAEN7B,KAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B7B,KAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/B,IAAA,QAAK8B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE3B,KAAK,CAACE,UAAU,CAAM,CAAC,cACrDN,IAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,aAAW,CAAK,CAAC,EAC1C,CAAC,cAEN7B,KAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/B,IAAA,QAAK8B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE3B,KAAK,CAACG,WAAW,CAAM,CAAC,cACtDP,IAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,EAC3C,CAAC,cAEN7B,KAAA,QAAK4B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB/B,IAAA,QAAK8B,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE3B,KAAK,CAACI,YAAY,CAAM,CAAC,cACvDR,IAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,eAAa,CAAK,CAAC,EAC5C,CAAC,EACH,CAAC,cAEN7B,KAAA,QAAK8B,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEC,mBAAmB,CAAE,sCAAsC,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAP,QAAA,eACxG7B,KAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/B,IAAA,OAAIgC,KAAK,CAAE,CACTO,KAAK,CAAE,MAAM,CACbJ,YAAY,CAAE,MAAM,CACpBC,OAAO,CAAE,MAAM,CACfI,UAAU,CAAE,QAAQ,CACpBF,GAAG,CAAE,KACP,CAAE,CAAAP,QAAA,CAAC,iBAEH,CAAI,CAAC,cACL/B,IAAA,MAAGgC,KAAK,CAAE,CAAEO,KAAK,CAAE,SAAS,CAAEJ,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,8DAEtD,CAAG,CAAC,cACJ/B,IAAA,CAACJ,IAAI,EAAC6C,EAAE,CAAC,cAAc,CAACX,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,cAEpD,CAAM,CAAC,EACJ,CAAC,cAEN7B,KAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/B,IAAA,OAAIgC,KAAK,CAAE,CACTO,KAAK,CAAE,MAAM,CACbJ,YAAY,CAAE,MAAM,CACpBC,OAAO,CAAE,MAAM,CACfI,UAAU,CAAE,QAAQ,CACpBF,GAAG,CAAE,KACP,CAAE,CAAAP,QAAA,CAAC,kBAEH,CAAI,CAAC,cACL/B,IAAA,MAAGgC,KAAK,CAAE,CAAEO,KAAK,CAAE,SAAS,CAAEJ,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,wDAEtD,CAAG,CAAC,cACJ/B,IAAA,CAACJ,IAAI,EAAC6C,EAAE,CAAC,eAAe,CAACX,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,eAErD,CAAM,CAAC,EACJ,CAAC,cAEN7B,KAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB/B,IAAA,OAAIgC,KAAK,CAAE,CACTO,KAAK,CAAE,MAAM,CACbJ,YAAY,CAAE,MAAM,CACpBC,OAAO,CAAE,MAAM,CACfI,UAAU,CAAE,QAAQ,CACpBF,GAAG,CAAE,KACP,CAAE,CAAAP,QAAA,CAAC,mBAEH,CAAI,CAAC,cACL/B,IAAA,MAAGgC,KAAK,CAAE,CAAEO,KAAK,CAAE,SAAS,CAAEJ,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,sDAEtD,CAAG,CAAC,cACJ/B,IAAA,CAACJ,IAAI,EAAC6C,EAAE,CAAC,gBAAgB,CAACX,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,gBAEtD,CAAM,CAAC,EACJ,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}