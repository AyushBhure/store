{"ast":null,"code":"import React,{useState}from'react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RatingModal=_ref=>{var _store$userRating;let{store,onClose,onSubmit}=_ref;// Initialize with existing rating or default to 5\nconst[rating,setRating]=useState(((_store$userRating=store.userRating)===null||_store$userRating===void 0?void 0:_store$userRating.rating)||5);const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();if(!rating){toast.error('Please select a rating');return;}setLoading(true);try{await onSubmit({rating:Number(rating)});}catch(error){toast.error('Failed to save rating');// Additional feedback\n}finally{setLoading(false);}};const renderStars=rating=>{const stars=[];for(let i=1;i<=5;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:\"star \".concat(i<=rating?'':'empty'),style:{cursor:'pointer',fontSize:'24px'},onClick:()=>setRating(i),children:\"\\u2605\"},i));}return/*#__PURE__*/_jsx(\"div\",{className:\"rating-stars\",children:stars});};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",style:{maxWidth:'500px',width:'90%',maxHeight:'90vh',overflow:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'24px',borderBottom:'2px solid #f1f3f4',paddingBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:'#333',fontSize:'1.5rem',fontWeight:'700'},children:store.userRating?\"Update Rating for \".concat(store.name):\"Rate \".concat(store.name)}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{background:'none',border:'none',fontSize:'28px',cursor:'pointer',color:'#6c757d',padding:'8px',borderRadius:'50%',transition:'all 0.2s ease',width:'40px',height:'40px',display:'flex',alignItems:'center',justifyContent:'center'},onMouseEnter:e=>{e.target.style.backgroundColor='#f8f9fa';e.target.style.color='#dc3545';},onMouseLeave:e=>{e.target.style.backgroundColor='transparent';e.target.style.color='#6c757d';},children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Your Rating\"}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginBottom:'16px'},children:renderStars(rating)}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',fontSize:'20px',fontWeight:'700',color:'#111827',padding:'16px',backgroundColor:'#f8f9fa',borderRadius:'12px',border:'2px solid #e9ecef'},children:[rating,\" out of 5 stars\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'16px',justifyContent:'flex-end',marginTop:'32px',paddingTop:'24px',borderTop:'2px solid #f1f3f4'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onClose,disabled:loading,style:{display:'flex',alignItems:'center',gap:'8px'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:store.userRating?'Update Rating':'Submit Rating'})]})]})]})});};export default RatingModal;","map":{"version":3,"names":["React","useState","toast","jsx","_jsx","jsxs","_jsxs","RatingModal","_ref","_store$userRating","store","onClose","onSubmit","rating","setRating","userRating","loading","setLoading","handleSubmit","e","preventDefault","error","Number","renderStars","stars","i","push","className","concat","style","cursor","fontSize","onClick","children","position","top","left","right","bottom","backgroundColor","display","justifyContent","alignItems","zIndex","maxWidth","width","maxHeight","overflow","marginBottom","borderBottom","paddingBottom","margin","color","fontWeight","name","background","border","padding","borderRadius","transition","height","onMouseEnter","target","onMouseLeave","textAlign","gap","marginTop","paddingTop","borderTop","type","disabled"],"sources":["C:/Users/ayush bhure/OneDrive/Desktop/backup/App/frontend/src/components/stores/RatingModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport toast from 'react-hot-toast';\n\nconst RatingModal = ({ store, onClose, onSubmit }) => {\n  // Initialize with existing rating or default to 5\n  const [rating, setRating] = useState(store.userRating?.rating || 5);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!rating) {\n      toast.error('Please select a rating');\n      return;\n    }\n    setLoading(true);\n    \n    try {\n      await onSubmit({\n        rating: Number(rating)\n      });\n    } catch (error) {\n      toast.error('Failed to save rating'); // Additional feedback\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderStars = (rating) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(\n        <span\n          key={i}\n          className={`star ${i <= rating ? '' : 'empty'}`}\n          style={{ cursor: 'pointer', fontSize: '24px' }}\n          onClick={() => setRating(i)}\n        >\n          ★\n        </span>\n      );\n    }\n    return <div className=\"rating-stars\">{stars}</div>;\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      zIndex: 1000\n    }}>\n      <div className=\"modal-content\" style={{\n        maxWidth: '500px',\n        width: '90%',\n        maxHeight: '90vh',\n        overflow: 'auto'\n      }}>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '24px',\n          borderBottom: '2px solid #f1f3f4',\n          paddingBottom: '16px'\n        }}>\n          <h3 style={{\n            margin: 0,\n            color: '#333',\n            fontSize: '1.5rem',\n            fontWeight: '700'\n          }}>\n            {store.userRating ? `Update Rating for ${store.name}` : `Rate ${store.name}`}\n          </h3>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              fontSize: '28px',\n              cursor: 'pointer',\n              color: '#6c757d',\n              padding: '8px',\n              borderRadius: '50%',\n              transition: 'all 0.2s ease',\n              width: '40px',\n              height: '40px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.backgroundColor = '#f8f9fa';\n              e.target.style.color = '#dc3545';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.backgroundColor = 'transparent';\n              e.target.style.color = '#6c757d';\n            }}\n          >\n            ×\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label className=\"form-label\">Your Rating</label>\n            <div style={{ textAlign: 'center', marginBottom: '16px' }}>\n              {renderStars(rating)}\n            </div>\n            <div style={{\n              textAlign: 'center',\n              fontSize: '20px',\n              fontWeight: '700',\n              color: '#111827',\n              padding: '16px',\n              backgroundColor: '#f8f9fa',\n              borderRadius: '12px',\n              border: '2px solid #e9ecef'\n            }}>\n              {rating} out of 5 stars\n            </div>\n          </div>\n\n          <div style={{\n            display: 'flex',\n            gap: '16px',\n            justifyContent: 'flex-end',\n            marginTop: '32px',\n            paddingTop: '24px',\n            borderTop: '2px solid #f1f3f4'\n          }}>\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              onClick={onClose}\n              disabled={loading}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              }}\n            >\n              Cancel\n            </button>\n            <button \n              type=\"submit\" \n              className=\"btn btn-primary\"\n            >\n              {store.userRating ? 'Update Rating' : 'Submit Rating'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default RatingModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}