{"ast":null,"code":"import _objectSpread from\"C:/Users/ayush bhure/OneDrive/Desktop/backup/App/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({name:'',email:'',address:'',// Added address field\npassword:''});const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const{register}=useAuth();const navigate=useNavigate();const validateForm=()=>{const newErrors={};// Name validation (20-60 characters)\nif(formData.name.length<20||formData.name.length>60){newErrors.name='Name must be between 20 and 60 characters';}// Email validation\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(formData.email)){newErrors.email='Please enter a valid email address';}// Address validation\nif(formData.address.trim().length<10){newErrors.address='Address must be at least 10 characters';}// Password validation (8-16 chars, 1 uppercase, 1 special char)\nif(formData.password.length<8||formData.password.length>16){newErrors.password='Password must be between 8 and 16 characters';}else if(!/(?=.*[A-Z])/.test(formData.password)){newErrors.password='Must contain at least one uppercase letter';}else if(!/(?=.*[!@#$%^&*])/.test(formData.password)){newErrors.password='Must contain at least one special character';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));// Clear error when user starts typing\nif(errors[e.target.name]){setErrors(_objectSpread(_objectSpread({},errors),{},{[e.target.name]:''}));}};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;setLoading(true);const userData={name:formData.name,email:formData.email,address:formData.address,// Include address\npassword:formData.password};const result=await register(userData);if(result.success){navigate('/dashboard');}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'500px',margin:'50px auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:'30px'},children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",className:\"form-control\",value:formData.name,onChange:handleChange,required:true,placeholder:\"Enter your full name (20-60 characters)\"}),errors.name&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",className:\"form-control\",value:formData.email,onChange:handleChange,required:true,placeholder:\"Enter your email address\"}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",className:\"form-label\",children:\"Address\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"address\",name:\"address\",className:\"form-control\",value:formData.address,onChange:handleChange,required:true,placeholder:\"Enter your full address (at least 10 characters)\",rows:\"3\"}),errors.address&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errors.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange,required:true,placeholder:\"8-16 characters with 1 uppercase and 1 special character\"}),errors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:'100%'},disabled:loading,children:loading?'Registering...':'Register'})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'20px'},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login here\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","address","password","loading","setLoading","errors","setErrors","register","navigate","validateForm","newErrors","length","emailRegex","test","trim","Object","keys","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","userData","result","success","style","maxWidth","margin","children","className","textAlign","marginBottom","onSubmit","htmlFor","type","id","onChange","required","placeholder","rows","width","disabled","marginTop","to"],"sources":["C:/Users/ayush bhure/OneDrive/Desktop/backup/App/frontend/src/components/auth/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    address: '', // Added address field\n    password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Name validation (20-60 characters)\n    if (formData.name.length < 20 || formData.name.length > 60) {\n      newErrors.name = 'Name must be between 20 and 60 characters';\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    // Address validation\n    if (formData.address.trim().length < 10) {\n      newErrors.address = 'Address must be at least 10 characters';\n    }\n\n    // Password validation (8-16 chars, 1 uppercase, 1 special char)\n    if (formData.password.length < 8 || formData.password.length > 16) {\n      newErrors.password = 'Password must be between 8 and 16 characters';\n    } else if (!/(?=.*[A-Z])/.test(formData.password)) {\n      newErrors.password = 'Must contain at least one uppercase letter';\n    } else if (!/(?=.*[!@#$%^&*])/.test(formData.password)) {\n      newErrors.password = 'Must contain at least one special character';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n\n    // Clear error when user starts typing\n    if (errors[e.target.name]) {\n      setErrors({\n        ...errors,\n        [e.target.name]: ''\n      });\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) return;\n\n    setLoading(true);\n    \n    const userData = {\n      name: formData.name,\n      email: formData.email,\n      address: formData.address, // Include address\n      password: formData.password\n    };\n\n    const result = await register(userData);\n\n    if (result.success) {\n      navigate('/dashboard');\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div style={{ maxWidth: '500px', margin: '50px auto' }}>\n      <div className=\"card\">\n        <h2 style={{ textAlign: 'center', marginBottom: '30px' }}>Register</h2>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\" className=\"form-label\">Full Name</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              className=\"form-control\"\n              value={formData.name}\n              onChange={handleChange}\n              required\n              placeholder=\"Enter your full name (20-60 characters)\"\n            />\n            {errors.name && <div className=\"alert alert-danger\">{errors.name}</div>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"email\" className=\"form-label\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              className=\"form-control\"\n              value={formData.email}\n              onChange={handleChange}\n              required\n              placeholder=\"Enter your email address\"\n            />\n            {errors.email && <div className=\"alert alert-danger\">{errors.email}</div>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"address\" className=\"form-label\">Address</label>\n            <textarea\n              id=\"address\"\n              name=\"address\"\n              className=\"form-control\"\n              value={formData.address}\n              onChange={handleChange}\n              required\n              placeholder=\"Enter your full address (at least 10 characters)\"\n              rows=\"3\"\n            />\n            {errors.address && <div className=\"alert alert-danger\">{errors.address}</div>}\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\" className=\"form-label\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              className=\"form-control\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              placeholder=\"8-16 characters with 1 uppercase and 1 special character\"\n            />\n            {errors.password && <div className=\"alert alert-danger\">{errors.password}</div>}\n          </div>\n\n          {/* Removed confirm password field */}\n\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            style={{ width: '100%' }}\n            disabled={loading}\n          >\n            {loading ? 'Registering...' : 'Register'}\n          </button>\n        </form>\n\n        <div style={{ textAlign: 'center', marginTop: '20px' }}>\n          <p>Already have an account? <Link to=\"/login\">Login here</Link></p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}